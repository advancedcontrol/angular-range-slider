@import "compass";

@mixin co-range-slider(
    $track-colour:     rgb(221, 221, 221), 
    $track-girth:     15px, 
    $track-radius:    10px, 
    $progress-colour: rgb(51, 136, 204), 
    $handle-colour:   rgb(246, 246, 246), 
    $handle-size:     28px
) {
    $handle-margin: $handle-size / 2;

    div.co-range-slider {
        &.vert {
            height: 100%;
            
            // center of parent div
            &> div {
                margin: 0 auto;
            }
        }

        &> div {
            position: relative;

            &.animate > * {
                @include single-transition(all, 0.15s, ease-in-out);
            }

            .track, .progress {
                @include border-radius($track-radius);
                position: absolute;
                width: 100%;
                height: 100%;
                left: 0px;
            }

            .track {
                background-color: $track-colour;
                cursor: pointer;
            }

            .progress {
                background-color: $progress-colour;
                cursor: pointer;
            }

            .handle {
                position: absolute;
                width: $handle-size;
                height: $handle-size;
                margin-left: -$handle-margin;

                cursor: pointer;
                cursor: -webkit-grab;
                cursor: -moz-grab;

                background-color: $handle-colour;
                @include border-radius($handle-margin);
                @include box-shadow(rgba(0,0,0,.5) 0 1px 5px);
            }

            &.dragging {
                cursor: -webkit-grabbing;
                cursor: -moz-grabbing;

                .handle {
                    cursor: -webkit-grabbing;
                    cursor: -moz-grabbing;
                }
            }

            &.horz {
                width: 100%;
                height: $track-girth;

                .handle {
                    top: 50%;
                    left: 0%;
                    margin-top: -$handle-margin;
                }
            }

            &.vert {
                height: 100%;
                width: $track-girth;

                .handle {
                    left: 50%;
                    bottom: 0px;
                    margin-bottom: -$handle-margin;
                }

                .progress {
                    bottom: 0px;
                }
            }
        }
    }
}
